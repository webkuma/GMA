import{x as p,r as u,u as w,o as y,D as b,z as k,a as s,c as r,A as S,b as e,g as C,h as j,i as B,t as i,F as L,d as D,j as I,R,C as V,l as _,w as z}from"./index-384ec2f6.js";import{L as N}from"./Loading-eb912728.js";import{i as x}from"./index-b41c80b0.js";const F={class:"text-white"},O={key:1},T={class:"m-4 flex justify-between items-center"},E={class:"flex justify-between items-center p-3 text-gray-700 border-1 border-cg3 rounded-lg bg-gray-50","aria-label":"Breadcrumb"},M={class:"inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse"},P={class:"inline-flex items-center"},Z=e("a",{href:"#",class:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-blue-600 dark:text-gray-400 dark:hover:text-white"},[e("svg",{class:"w-3 h-3 me-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})]),_(" 首頁 ")],-1),$=e("li",null,[e("div",{class:"flex items-center"},[e("svg",{class:"rtl:rotate-180 block w-3 h-3 mx-1 text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 9 4-4-4-4"})]),e("a",{class:"ms-1 text-sm font-medium text-gray-700 hover:text-blue-600 md:ms-2 dark:text-gray-400 dark:hover:text-white"}," 收藏 ")])],-1),q={class:"m-4"},A={class:"border-b-2 border-cg4"},G=e("span",{class:"text-2xl font-extrabold text-cg5"},"已收藏的作品 ",-1),H={class:"text-cg5"},K={class:"mx-6 mb-6 grid grid-cols-1 lg:grid-cols-2 gap-4"},W={class:"flex items-center justify-end mr-4"},X=["onClick"],Y=e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"},null,-1),J={class:"mr-4 w-20 h-20 sm:w-32 sm:h-32 rounded-lg aspect-square",alt:"favorite pic"},Q={class:"flex flex-col justify-evenly pl-2"},U={class:"text-base sm:text-xl font-semibold text-gray-700"},ee={class:"text-base sm:text-xl font-semibold text-gray-700"},te={class:"text-base font-semibold text-gray-500"},se={key:0,class:"p-4 flex flex-col items-center justify-center"},oe=e("p",{class:"text-6xl text-cg4"},"(='X'=)",-1),ae=e("p",{class:"text-2xl text-center pt-4 text-cg4"},"目前還沒有收藏作品",-1),re=[oe,ae],he={__name:"FavoriteView",setup(le){const m=p(),c=u(1),g=w(),o=u();y(async()=>{c.value=1,await g.isReady(),h()});async function h(){let a=Object.keys(localStorage).filter(n=>n.startsWith("favoriteStorage-")).map(n=>parseInt(n.replace("favoriteStorage-",""),10));const l=await b(a);l?o.value=l:o.value=null,c.value=0}function v(a){o.value.forEach(l=>{if(l.id===a){x.success("已從收藏移除",{theme:"dark",autoClose:1e3,transition:"zoom",position:x.POSITION.TOP_RIGHT}),localStorage.removeItem(`favoriteStorage-${a}`),h(),m.updateYearsDataStorage(a,!1),d();return}})}function d(){return o.value?o.value.length:0}return(a,l)=>{const n=k("lazy");return s(),r("main",F,[c.value===1?(s(),S(N,{key:0})):(s(),r("div",O,[e("div",T,[e("nav",E,[e("ol",M,[e("li",P,[C(B(R),{to:"/",class:"inline-block"},{default:j(()=>[Z]),_:1})]),$])])]),e("div",q,[e("span",A,[G,e("span",H," ("+i(d())+")",1)])]),e("div",K,[(s(!0),r(L,null,D(o.value,(t,f)=>(s(),r("div",{key:f,class:V(["flex shadow-custom-inner shadow-yellow-500 mt-4 p-4 border rounded-lg",{"bg-cg2":t.won,"bg-gray-200 ":!t.won}])},[e("div",W,[(s(),r("svg",{onClick:ne=>v(t.id),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1",stroke:"currentColor",class:"w-6 h-6 cursor-pointer fill-red-500"},[Y,_(" /> ")],8,X))]),z(e("img",J,null,512),[[n,t.url]]),e("div",Q,[e("div",null,[e("span",U,i(t.nominee),1),e("span",ee," ／ "+i(t.work),1)]),e("p",te,i(t.awards),1)])],2))),128))]),d()?I("",!0):(s(),r("div",se,re))]))])}}};export{he as default};
